name:Â KeepÂ RepoÂ AliveÂ (Manual)
on:
Â Â workflow_dispatch:
Â Â schedule:
Â  Â Â -Â cron:Â '0 0 */25 * *'

jobs:
Â Â keep-alive:
Â  Â Â runs-on:Â ubuntu-latest
Â  Â Â permissions:
Â  Â  Â Â contents:Â writeÂ # å¿…é¡»æä¾›å†™å…¥æƒé™
Â  Â Â steps:
Â  Â  Â Â -Â name:Â CheckoutÂ repository
Â  Â  Â  Â Â uses:Â actions/checkout@v4

Â  Â  Â Â -Â name:Â CreateÂ orÂ updateÂ aÂ fileÂ toÂ triggerÂ commit
Â  Â  Â  Â Â run:Â |
Â  Â  Â  Â  Â  # åˆ›å»ºä¸€ä¸ªæ—¶é—´æˆ³æ–‡ä»¶ï¼Œæ¯æ¬¡è¿è¡Œå†…å®¹éƒ½ä¼šå˜åŒ–ï¼Œç¡®ä¿æœ‰ä¸œè¥¿å¯æäº¤
Â  Â  Â  Â  Â  date > last_updated.txt

Â  Â  Â Â -Â name:Â CommitÂ andÂ pushÂ changes
Â  Â  Â  Â Â run:Â |
Â  Â  Â  Â  Â  # é…ç½® git ç”¨æˆ·
Â  Â  Â  Â  Â  git config --global user.name 'my-bot'
Â  Â  Â  Â  Â  git config --global user.email 'my-bot@users.noreply.github.com'

Â  Â  Â  Â  Â Â # æ·»åŠ æ›´æ”¹å¹¶æäº¤
Â  Â  Â  Â  Â Â gitÂ addÂ last_updated.txt
Â  Â  Â  Â  Â Â # ä½¿ç”¨ "git diff-index --quiet HEAD" æ£€æŸ¥æ˜¯å¦æœ‰æ”¹åŠ¨
Â  Â  Â  Â  Â Â # å¦‚æœæ²¡æœ‰æ”¹åŠ¨ï¼ˆæ¯”å¦‚æ–‡ä»¶å†…å®¹æ²¡å˜ï¼‰ï¼Œå°±ä¸æ‰§è¡Œ commit å’Œ pushï¼Œé¿å…æŠ¥é”™
Â  Â  Â  Â  Â Â ifÂ !Â gitÂ diff-indexÂ --quietÂ HEAD;Â then
Â  Â  Â  Â  Â  Â Â gitÂ commitÂ -mÂ "ğŸš§ keepalive: auto-commit on $(date)"
Â  Â  Â  Â  Â  Â Â gitÂ push
Â  Â  Â  Â  Â Â else
Â  Â  Â  Â  Â  Â Â echoÂ "No changes to commit."
Â  Â  Â  Â  Â Â fi
